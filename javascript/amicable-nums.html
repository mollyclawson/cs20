<!DOCTYPE html>
<html>
    <head>
        <script language="javascript">

            function checkAmicable() {
                // get the values from input boxes
                num1 = document.getElementById('num1').value;
                num2 = document.getElementById('num2').value;

                // get an array of the factors of each number
                arr1 = getFactors(num1);
                arr2 = getFactors(num2);

                // write the factors in the document
                alert('The factors of the first number are: ' + arr1.join(', '));
                alert('The factors of the first number are: ' + arr2.join(', '));

                // get the sum of each factor
                sum1 = arrSum(arr1);
                sum2 = arrSum(arr2);

                // display if the numbers are amicable or not
                s = 'The numbers: ' + num1 + ' and ' + num2;
                s += (sum1 == num2 && sum2 == num1) ? ' are amicable' : ' are not amicable';
                document.getElementById('amicable').innerHTML = s;
            }

            // function getFactors(num) returns an array of all of the 
            // factors of num, not including itself
            function getFactors(num) {
                arr = [];
                for (i = 0; i < num; i++) {
                    if (isAFactor(num, i)) 
                        arr.push(i);
                }
                return arr;
            }

            // function isAFactor(x, y) return true if y is a factor of x, 
            // false otherwise
            function isAFactor(x, y) {
                return (x % y == 0)
            }

            // function arrSum(arr) returns the sum of elements in an array
            function arrSum(arr) {
                sum = 0;
                for (i = 0; i < arr.length; i++) {
                    sum+=arr[i];
                }
                return sum;
            }
        </script>

    </head>
    <body>
        <h1>Amicable Numbers</h1>
        <h3>Given 2 integers, I'll tell you if they're amicable. 
            Two numbers are amicable if their factors (excluding themselves) add up to each other.</h3>
        <form>
            <input type="number" id='num1'>
            <input type="number" id='num2'>
            <button type="button" onclick="checkAmicable()">Submit</button>
        </form>
        <div id='amicable'></div>
    </body>
</html>